{% extends 'base.html' %}

{% block content %}
<h1 class="mb-4">ç³»ç»Ÿè®¾ç½®</h1>

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">ä½™é¢æ˜¾ç¤ºè®¾ç½®</h5>
            </div>
            <div class="card-body">
                <form method="POST" action="">
                    {{ form.hidden_tag() }}
                    
                    <div class="form-group">
                        {{ form.balance_unit.label(class="form-control-label") }}
                        <div class="input-group">
                            {{ form.balance_unit(class="form-control") }}
                            <div class="input-group-append">
                                <span class="input-group-text">ç¤ºä¾‹: å…ƒ, Â¥, $, ç§¯åˆ†</span>
                            </div>
                        </div>
                        <small class="form-text text-muted">è®¾ç½®ä½™é¢æ˜¾ç¤ºçš„å•ä½ç¬¦å·</small>
                        {% for error in form.balance_unit.errors %}
                            <span class="text-danger">{{ error }}</span>
                        {% endfor %}
                    </div>
                    
                    <div class="form-group">
                        {{ form.balance_emoji.label(class="form-control-label") }}
                        <div class="input-group">
                            {{ form.balance_emoji(class="form-control", style="font-size: 1.5rem;") }}
                            <div class="input-group-append">
                                <span class="input-group-text" style="font-size: 1.5rem;">ğŸ’° â­ ğŸ’ ğŸ ğŸ¯</span>
                            </div>
                        </div>
                        <small class="form-text text-muted">è®¾ç½®ä½™é¢æ•°å€¼å‰æ˜¾ç¤ºçš„Emojiå›¾æ ‡ (ç•™ç©ºåˆ™ä¸æ˜¾ç¤º)</small>
                        {% for error in form.balance_emoji.errors %}
                            <span class="text-danger">{{ error }}</span>
                        {% endfor %}
                    </div>
                    
                    <div class="form-group mt-4">
                        {{ form.submit(class="btn btn-primary") }}
                        <a href="{{ url_for('admin.dashboard') }}" class="btn btn-secondary ml-2">å–æ¶ˆ</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card">
            <div class="card-header bg-light">
                <h5 class="mb-0">è®¾ç½®è¯´æ˜</h5>
            </div>
            <div class="card-body">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><strong>ä½™é¢å•ä½</strong>ï¼šå°†æ˜¾ç¤ºåœ¨æ‰€æœ‰ä½™é¢æ•°å€¼åé¢</li>
                    <li class="list-group-item"><strong>ä½™é¢å›¾æ ‡</strong>ï¼šå°†æ˜¾ç¤ºåœ¨æ‰€æœ‰ä½™é¢æ•°å€¼å‰é¢</li>
                    <li class="list-group-item"><strong>ç¤ºä¾‹</strong>ï¼šè®¾ç½®å•ä½ä¸º"å…ƒ"ï¼Œå›¾æ ‡ä¸º"ğŸ’°"ï¼Œåˆ™ä½™é¢æ˜¾ç¤ºä¸º"ğŸ’° 100.00 å…ƒ"</li>
                    <li class="list-group-item text-info"><strong>æç¤º</strong>ï¼šè®¾ç½®åå°†ç«‹å³åº”ç”¨åˆ°æ•´ä¸ªç³»ç»Ÿ</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script>
$(document).ready(function() {
    // å®æ—¶é¢„è§ˆåŠŸèƒ½
    $('#balance_emoji, #balance_unit').on('input', function() {
        var emoji = $('#balance_emoji').val() || '';
        var unit = $('#balance_unit').val() || '';
        var previewText = `${emoji} 1234.56 ${unit}`.trim();
        
        // å¦‚æœæ²¡æœ‰é¢„è§ˆåŒºåŸŸåˆ™åˆ›å»º
        if ($('#previewArea').length === 0) {
            var previewDiv = $('<div class="alert alert-info mt-3" id="previewArea"></div>').appendTo('.card-body');
        }
        
        $('#previewArea').html(`<strong>é¢„è§ˆ:</strong> ${previewText}`);
    });
});
</script>
{% endblock %}